{% load default_tags %}
{% if course.course_demo_file == 'utb' %}
  <div class="iframewrapper">
    <iframe id="youtube-video" src="https://www.youtube.com/embed/{{course.course_demo_file_url}}?enablejsapi=1&rel=0&iv_load_policy=3" frameborder="0" enablejsapi="1" allowfullscreen style="width:100%;height: 100%;margin:auto;"></iframe>   
    <script>
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-video', {
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        function onPlayerReady(){
            console.log("hey Im ready");
        }

        function onPlayerStateChange(){
            console.log("my state changed");
        }
    </script>
</div>

    {% else %}
    <img src="{{course|get_course_img}}" alt="Demo Image" width="100%" height="100%">
  {% endif %}
